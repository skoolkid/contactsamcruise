<!DOCTYPE html>
<html>
<head>
<title>Contact Sam Cruise: Game status buffer entry at 7F00</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />

</head>
<body class="Asm-g">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Contact Sam Cruise" src="../images/logo.png" /></a></td>
<td class="page-header">Game status buffer</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="7E00.html">7E00</a></span></td>
<td class="up">Up: <a href="../maps/all.html#7f00">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="7F60.html">7F60</a></span></td>
</tr>
</table>
<div class="description">7F00: Screen refresh buffer</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="E9D5.html">E9D5</a>, <a href="EA80.html">EA80</a>, <a href="F0BE.html">F0BE</a>, <a href="F100.html">F100</a>, <a href="F3A0.html">F3A0</a> and <a href="FC57.html">FC57</a>. Each byte of the screen refresh buffer (SRB) corresponds to a segment of 8 character squares on the screen, the leftmost of which will be at x=0, x=8, x=16 or x=24. Each bit set in an SRB byte corresponds to a character square in the segment that needs refreshing. Bit 7 corresponds to the leftmost character square in the segment, bit 0 to the rightmost character square.
</div>
<div class="paragraph">
Note that, owing to a quirk in the way the SRB-updating routine at <a href="E9D5.html">E9D5</a> works, the first 16 bytes of the screen refresh buffer correspond not to any part of the screen, but to the four rows of the play area that are immediately above the currently visible portion of the play area. Therefore, the screen-updating routine at <a href="EA80.html">EA80</a> ignores those bytes and starts inspecting SRB bytes at 7F10 instead.
</div>
<div class="paragraph">
Note also that the routine at <a href="6EC5.html">6EC5</a> uses the first 16 bytes of the SRB as a temporary backup store for the submessage indicator and submessage addresses at <a href="7F81.html">7F81</a>, and the routine at <a href="FC6A.html">FC6A</a> uses the first 32 bytes of the SRB as a temporary store for the top row of attribute bytes when scrolling the screen up and down.
</div>
</div>
<table class="input-0">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>

</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="7f00"></span>7F00</td>
<td class="instruction">DEFS $60</td>
<td class="comment-10" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="7E00.html">7E00</a></span></td>
<td class="up">Up: <a href="../maps/all.html#7f00">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="7F60.html">7F60</a></span></td>
</tr>
</table>
<footer>
<div class="release">The complete Contact Sam Cruise RAM disassembly 20181020</div>
<div class="copyright">&#169; 1986 Microsphere Computer Services Ltd. &#169; 2018 Richard Dymond.</div>
<div class="created">Created using <a href="http://skoolkit.ca/">SkoolKit</a> 7.0.</div>
<div><a href="http://skoolkit.ca/disassemblies/contact_sam_cruise/asm/32512.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>