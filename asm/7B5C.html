<!DOCTYPE html>
<html>
<head>
<title>Contact Sam Cruise: Routine at 7B5C</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Contact Sam Cruise" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="7B5A.html">7B5A</a></span></td>
<td class="up">Up: <a href="../maps/all.html#7b5c">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="7B6A.html">7B6A</a></span></td>
</tr>
</table>
<div class="description">7B5C: Deal with a character who is standing next to the jail cell door</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="EBBB.html">EBBB</a>. Deals with a character who is standing just behind the jail cell door and trying to move right. If the character is Sam, this routine prevents him from escaping from the jail cell while he's imprisoned there.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">Character number (0xD7-0xE6)</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="7b5c"></span>7B5C</td>
<td class="instruction">LD A,H</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=character number</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="7b5d"></span>7B5D</td>
<td class="instruction">CP $E6</td>
<td class="comment-11" rowspan="1">Are we dealing with Sam?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="7b5f"></span>7B5F</td>
<td class="instruction">JP NZ,<a href="EBBB.html#ec07">$EC07</a></td>
<td class="comment-11" rowspan="1">Jump back into the calling routine if not (and allow the character to move right)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="7b62"></span>7B62</td>
<td class="instruction">LD A,($7FEB)</td>
<td class="comment-11" rowspan="1">Collect the police flags from <a href="7FEB.html">7FEB</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="7b65"></span>7B65</td>
<td class="instruction">RLCA</td>
<td class="comment-11" rowspan="1">Is Sam in jail?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="7b66"></span>7B66</td>
<td class="instruction">JP NC,<a href="EBBB.html#ec07">$EC07</a></td>
<td class="comment-11" rowspan="1">Jump back into the calling routine if not (and allow Sam to move right)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="7b69"></span>7B69</td>
<td class="instruction">RET</td>
<td class="comment-11" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="7B5A.html">7B5A</a></span></td>
<td class="up">Up: <a href="../maps/all.html#7b5c">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="7B6A.html">7B6A</a></span></td>
</tr>
</table>
<footer>
<div class="release">The complete Contact Sam Cruise RAM disassembly 20181020</div>
<div class="copyright">&#169; 1986 Microsphere Computer Services Ltd. &#169; 2018 Richard Dymond.</div>
<div class="created">Created using <a href="http://skoolkit.ca/">SkoolKit</a> 7.0.</div>
<div><a href="http://skoolkit.ca/disassemblies/contact_sam_cruise/asm/31580.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>