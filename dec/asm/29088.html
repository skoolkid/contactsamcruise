<!DOCTYPE html>
<html>
<head>
<title>Contact Sam Cruise: Routine at 29088</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Contact Sam Cruise" src="../../images/logo-dec.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="29072.html">29072</a>
</td>
<td class="up">Up: <a href="../maps/all.html#29088">Map</a></td>
<td class="next">
Next: <a href="29100.html">29100</a>
</td>
</tr>
</table>
<div class="description">29088: Set a policeman's destination to Sam's current location</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="29218.html">29218</a> and <a href="31236.html">31236</a>. Copies Sam's coordinates and location identifier into bytes 10, 11 and 12 of the policeman's buffer, and also to <a href="32731.html">32731</a> (where they can be checked by the other policeman).
</div>
</div>
<table class="input">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">222 or 223 (policeman), or 127 (when coming from <a href="31236.html">31236</a>)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="address-2"><span id="29088"></span>29088</td>
<td class="instruction">CALL <a href="29072.html">29072</a></td>
<td class="comment-1" rowspan="1">Set the policeman's destination to Sam's current location (when coming from <a href="29218.html">29218</a>)</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="29091"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="29100.html">29100</a> with <span class="register">HL</span> pointing at byte 12 of a policeman's buffer.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="29091"></span>29091</td>
<td class="instruction">LD DE,32733</td>
<td class="comment-1" rowspan="3">Copy either (a) bytes 10, 11 and 12 of the policeman's buffer (which hold his destination coordinates and location identifier), or (b) Sam's coordinates and location identifier (just copied into 32522-32524 when coming from <a href="31236.html">31236</a>) to <a href="32731.html">32731</a></td>
</tr>
<tr>
<td class="address-1"><span id="29094"></span>29094</td>
<td class="instruction">LD BC,3</td>
</tr>
<tr>
<td class="address-1"><span id="29097"></span>29097</td>
<td class="instruction">LDDR</td>
</tr>
<tr>
<td class="address-1"><span id="29099"></span>29099</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="29072.html">29072</a>
</td>
<td class="up">Up: <a href="../maps/all.html#29088">Map</a></td>
<td class="next">
Next: <a href="29100.html">29100</a>
</td>
</tr>
</table>
<footer>
<div class="release">The complete Contact Sam Cruise RAM disassembly 20200812</div>
<div class="copyright">&#169; 1986 Microsphere Computer Services Ltd. &#169; 2020 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.2.</div>
<div><a href="../../asm/71A0.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>